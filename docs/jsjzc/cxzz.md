### 程序装载两个要求
- 可执行程序加载后占用的内存空间应该是连续的
- 需要同时加载很多个程序，并且不能让程序自己规定在内存中加载的位置
> 要满足这两个基本的要求，我们很容易想到一个办法。那就是我们可以在内存里面，找到一段连续的内存空间，然后分配给装载的程序，然后把这段连续的内存空间地址，和整个程序指令里指定的内存地址做一个映射

### 内存分类
- `虚拟内存地址`：指令里用到的内存地址
- `物理内存地址`：实际在内存硬件里面的空间地址

### 内存分段
- 找出一段连续的物理内存和虚拟内存地址进行映射的方法，叫做`分段`
- `段`，就是指系统分配出来的那个连续的内存空间
![](http://image.heysq.com/wiki/jsjzc/neicunfenduan.png)

#### 内存分段缺陷-内存碎片
- 总体内存剩余空间大于新程序需要分配的内存
- 单个内存剩余大小不够给新程序分配
![](http://image.heysq.com/wiki/jsjzc/neicunsuipian.png)

#### 内存交换
- 将现有的内存中的数据写入到硬盘
- 重新将硬盘数据写入到内存的新区域
- 内存空出连续区域
- 会有性能问题，程序阻塞卡顿，硬盘读写速度慢于内存
- `swap`分区的作用，内存交换

### 内存分页
- 解决内存分段的内存碎片问题
- 和分段这样分配一整段连续的空间给到程序相比，分页是把整个物理内存空间切成一段段固定尺寸的大小
- 而对应的程序所需要占用的虚拟内存空间，也会同样切成一段段固定尺寸的大小。这样一个连续并且尺寸固定的内存空间，叫页（Page）
- 从虚拟内存到物理内存的映射，不再是拿整段连续的内存的物理地址，而是按照一个一个页来的。页的尺寸一般远远小于整个程序的大小
- 发生内存交换时，需要写入硬盘的数据减少，相对速度变快
![](http://image.heysq.com/wiki/jsjzc/neicunfenye.png)